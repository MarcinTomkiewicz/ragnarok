@import "abstracts/variables";
@import "abstracts/mixins";
@import "layouts/form-panel";

.events-admin-list {
  @include section-wrapper;

  .card.card-dark {
    padding: 1rem;
  }

  .events-tabs {
    @include flex-wrapper(row, flex-start, center);
    gap: 0.5rem;
    flex-wrap: wrap;
    padding-bottom: 0.5rem;
    margin-bottom: 1rem;
    border-bottom: 1px solid $border-color;

    .btn {
      white-space: nowrap;
    }
  }

  .event-details {
    @extend .form-panel;

    .header {
      @include flex-wrapper(row, space-between, flex-start);
      gap: 1rem;
      margin-bottom: 0.75rem;
      width: 100%;

      @media (max-width: $breakpoint-xs) {
        @include flex-wrapper(column, flex-start, flex-start);
        gap: 0.5rem;
        /* tylko przycisk Edytuj w panelu kart (tabs) */
        & .actions > .btn.btn-primary {
          padding: 0.25rem 0.75rem;
        }
      }
    }

    .title h3 {
      margin: 0;
      @include gold-gradient-text;
    }

    .tags {
      @include flex-wrapper(row, flex-start, flex-start);
      gap: 0.5rem;
      margin-top: 0.25rem;
      flex-wrap: wrap;
    }

    .meta {
      @include flex-wrapper(row, flex-start, flex-start);
      gap: 0.75rem;
      flex-wrap: wrap;
      width: 100%;

      dt {
        font-weight: 600;
        color: $secondary-text-color;
        margin: 0;
      }
      dd {
        margin: 0;
        color: $text-color;
      }
      > div {
        display: grid;
        grid-template-columns: auto 1fr;
        gap: 0.5rem;
      }
    }

    .desc {
      margin: 1rem 0;
      color: $secondary-text-color;
      width: 100%;
    }

    .occ {
      @include flex-wrapper(column, flex-start, flex-start);
      width: 100%;
      h4 {
        margin: 0.5rem 0;
        color: $text-color;
      }
      .month-block {
        margin-bottom: 0.75rem;
      }
      .month-title {
        font-weight: 600;
        margin-bottom: 0.25rem;
        color: $secondary-text-color;
      }

      .dates {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
      }
    }
  }

  /* --- accordion (ngb) --- */
  .events-accordion {
    /* nagłówki */
    [ngbaccordionheader] button[ngbaccordionbutton] {
      background: $bg-color; /* tło nagłówka */
      color: $text-color;
      border: 1px solid $border-color;
      border-radius: $border-radius;
      padding: 0.5rem 0.75rem;
      transition: background-color $transition-fast,
        border-color $transition-fast;

      &:hover {
        background: $bg-color-light;
        border-color: lighten($border-color, 5%);
      }
      &:focus {
        outline: none;
        box-shadow: 0 0 0 2px rgba($primary-color, 0.25);
      }
    }

    .panel-title {
      width: 100%;
    }

    /* treść panelu — kotwica zwiększająca specyficzność */
    .panel-card {
      background: $bg-color-light;
      color: $text-color;
      border-radius: $border-radius;
      /* gdy global coś narzuca na <ngb-accordion-body>, dołóż w razie potrzeby border/padding tu */
    }

    .panel-content {
      padding-top: 0.25rem;

      .meta--compact {
        dt {
          font-weight: 600;
          color: $secondary-text-color;
          margin: 0;
        }
        dd {
          margin: 0;
          color: $text-color;
        }
        > div {
          display: grid;
          grid-template-columns: 140px 1fr;
          gap: 0.5rem;
        }
      }

      .occ .dates {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;

        .btn.btn-outline {
          border-color: $border-color;
          color: $text-color;
          background-color: transparent;

          &:hover {
            background-color: $secondary-button-hover-color;
            border-color: lighten($border-color, 8%);
            color: $button-text-color;
          }
        }
      }
    }
  }

  .muted {
    color: $secondary-text-color;
  }
}

/* --- responsywność na Twoich breakpointach --- */
@media (max-width: $breakpoint-sm) {
  .events-admin-list {
    .events-accordion [ngbaccordionheader] button[ngbaccordionbutton] {
      padding: 0.5rem;
    }
    .event-details .meta > div {
      grid-template-columns: 1fr; /* nie łamiemy info na 3–4 linie, ale czytelnie na mobile */
    }
  }
}
