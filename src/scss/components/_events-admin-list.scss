@import "abstracts/variables";
@import "abstracts/mixins";
@import "layouts/form-panel";

.events-admin-list {
  @include section-wrapper;

  /* --- zakładki z eventami --- */
  .events-tabs {
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: max-content;
    gap: .5rem;
    overflow-x: auto;
    padding-bottom: .5rem;
    margin-bottom: 1rem;
    border-bottom: 1px solid $border-color;

    .btn { white-space: nowrap; }
  }

  /* --- karta eventu (tryb tabs) — kotwica zwiększająca specyficzność --- */
  .event-card.card.card-dark {
    background-color: $bg-color-light; /* tło kart w projekcie */
    color: $text-color;
    border: 1px solid $border-color;
    border-radius: $border-radius;
    box-shadow: $card-shadow;
    transition: box-shadow $transition-fast, border-color $transition-fast;

    &:hover {
      box-shadow: 0 0 20px rgba($secondary-color, 0.4); /* alias do $box-shadow jeśli chcesz 1:1 */
      border-color: lighten($border-color, 5%);
    }
  }

  /* układ wewnątrz karty */
  .event-details {
    @extend .form-panel;

    .header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 1rem;
      margin-bottom: .75rem;
    }

    .title h3 { margin: 0; color: $text-color; }

    .tags {
      display: flex; gap: .5rem; margin-top: .25rem;

      .tag {
        font-size: $font-size-sm;
        padding: .15rem .5rem;
        border-radius: $border-radius;
        background: $bg-color;
        border: 1px solid $border-color;
        color: $secondary-text-color;
      }
    }

    .meta {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px,1fr));
      gap: .25rem .75rem;
      margin: .25rem 0 .75rem;

      dt { font-weight: 600; color: $secondary-text-color; margin: 0; }
      dd { margin: 0; color: $text-color; }
      > div { display: grid; grid-template-columns: auto 1fr; gap: .5rem; }
    }

    .desc { margin-bottom: 1rem; color: $secondary-text-color; }

    .occ {
      h4 { margin: .5rem 0; color: $text-color; }
      .month-block { margin-bottom: .75rem; }
      .month-title { font-weight: 600; margin-bottom: .25rem; color: $secondary-text-color; }

      .dates {
        display: flex; flex-wrap: wrap; gap: .5rem;

        /* dostosowanie outline’owych przycisków do palety */
        .btn.btn-outline {
          border-color: $border-color;
          color: $text-color;
          background-color: transparent;
          transition: background-color $transition-fast, border-color $transition-fast;

          &:hover {
            background-color: $secondary-button-hover-color;
            border-color: lighten($border-color, 8%);
            color: $button-text-color;
          }

          &.btn-sm { font-size: $font-size-sm; }
        }
      }
    }
  }

  /* --- accordion (ngb) --- */
  .events-accordion {
    /* nagłówki */
    [ngbaccordionheader] button[ngbaccordionbutton] {
      background: $bg-color; /* tło nagłówka */
      color: $text-color;
      border: 1px solid $border-color;
      border-radius: $border-radius;
      padding: .5rem .75rem;
      transition: background-color $transition-fast, border-color $transition-fast;

      &:hover { background: $bg-color-light; border-color: lighten($border-color, 5%); }
      &:focus { outline: none; box-shadow: 0 0 0 2px rgba($primary-color, .25); }
    }

    .panel-title { width: 100%; }

    /* treść panelu — kotwica zwiększająca specyficzność */
    .panel-card {
      background: $bg-color-light;
      color: $text-color;
      border-radius: $border-radius;
      /* gdy global coś narzuca na <ngb-accordion-body>, dołóż w razie potrzeby border/padding tu */
    }

    .panel-content {
      padding-top: .25rem;

      .meta--compact {
        dt { font-weight: 600; color: $secondary-text-color; margin: 0; }
        dd { margin: 0; color: $text-color; }
        > div { display: grid; grid-template-columns: 140px 1fr; gap: .5rem; }
      }

      .occ .dates {
        display: flex; flex-wrap: wrap; gap: .5rem;

        .btn.btn-outline {
          border-color: $border-color;
          color: $text-color;
          background-color: transparent;

          &:hover {
            background-color: $secondary-button-hover-color;
            border-color: lighten($border-color, 8%);
            color: $button-text-color;
          }
        }
      }
    }
  }

  .muted { color: $secondary-text-color; }
}

/* --- responsywność na Twoich breakpointach --- */
@media (max-width: $breakpoint-sm) {
  .events-admin-list {
    .events-accordion [ngbaccordionheader] button[ngbaccordionbutton] {
      padding: .5rem;
    }
    .event-details .meta > div {
      grid-template-columns: 1fr; /* nie łamiemy info na 3–4 linie, ale czytelnie na mobile */
    }
  }
}
