<section class="tech-stack-section full-height">
  <div class="container">
    <h2 class="section-title">Poznaj naszych Mistrzów Gry</h2>
    <p class="section-subtitle">
      Zespół Ragnaroku to grupa kreatywnych osób, których pasja i zaangażowanie
      sprawiają, że każda sesja RPG staje się wyjątkowym przeżyciem.
    </p>

    @if (error()) {
      <p class="text-danger text-center">{{ error() }}</p>
    } @else if (isLoading()) {
      <div class="mg-grid loader-wrapper">
        <app-loader />
      </div>
    } @else {
      <div class="mg-grid">
        @for (gm of visibleGms(); track gm.userId) {
          <div class="mg-card" (click)="onCardClick(gm)">
            <img
              [src]="gm.image"
              [alt]="gm.firstName"
              class="mg-avatar"
            />
            <h3 class="mg-name">{{ gm.firstName }}</h3>
            <p class="mg-role">{{ roleDisplay }}</p>
            <p class="mg-description truncate-three-lines">
              {{ gm.shortDescription }}
            </p>
          </div>
        }
      </div>

      @if (!showAll() && shouldShowMoreButton()) {
        <div class="mt-4 text-center">
          <button class="btn btn-outline" (click)="showAll.set(true)">
            Pokaż więcej
          </button>
        </div>
      }
    }
  </div>
</section>
